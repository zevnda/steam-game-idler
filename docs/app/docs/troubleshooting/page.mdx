import { Steps } from 'nextra/components';

import Callout from '@docs/components/Callout';
import Icon from '@docs/components/Icon';

# Troubleshooting

This page covers common issues and their solutions when using Steam Game Idler.

## Before You Start

<Callout type="info">
    Always check the [FAQ](/docs/faq) first, as many common questions are answered there
</Callout>

<Steps>
    ### Check System Requirements
    - Windows 10/11 (64-bit)
    - Steam client installed and running
    - Internet connection

    ### Verify Steam Setup
    - Steam client is running
    - You're signed in to at least one Steam account
    - Your Steam profile is set to public (for some features)

    ### Check SGI Installation
    - SGI is installed in the default location
    - You're running the latest version
    - Windows Defender/antivirus isn't blocking SGI
</Steps>

## Common Issues

### Installation & Startup Problems

#### SGI Won't Install
**Symptoms:** Installation fails or shows errors

**Solutions:**
- Run the installer as administrator
- Temporarily disable antivirus during installation
- Make sure you have sufficient disk space
- Download the installer again (it might be corrupted)

#### SGI Won't Start
**Symptoms:** Application doesn't open or shows blank screen

**Solutions:**
- Make sure Steam is running and you're signed in
- Run SGI as administrator
- Check if Windows Defender is blocking the application
- Restart your computer and try again

### Card Farming Issues

#### No Cards Dropping
**Symptoms:** Card farming runs but no cards are received

**Solutions:**
- Check if games actually have card drops remaining
- Make sure you own the games (not family-shared)
- Wait longer - new accounts may have a 3-hour+ delay
- Check if the games are marked as private in your library

#### "Incorrect card farming credentials" Error
**Symptoms:** Card farming can't authenticate

**Solutions:**
- Update your Steam cookies following the [Steam Credentials](/docs/steam-credentials) guide
- Make sure you copied cookies from `steamcommunity.com`, not `store.steampowered.com`
- Check if you need additional cookies (`steamParental`, `steamMachineAuth`)
- Clear browser cache and get fresh cookies

### Achievement Issues

#### Achievement Unlocker Fails to Unlock Achievements
**Symptoms:** Achievement unlocker fails or shows errors

**Solutions:**
- Check if achievements are marked as "Protected" in [Achievement Manager](/docs/features/achievement-manager)
- Verify the game has achievements
- Try unlocking them manually in [Achievement Manager](/docs/features/achievement-manager) first

#### Achievement Manager Shows "No achievements/statistics found"
**Symptoms:** Empty achievement list for a game

**Solutions:**
- Set your Steam profile's Game Details to public
- Make sure the game actually has achievements and statistics
- Delete the games's achievement cache file and try again:
    1. Close SGI
    2. Navigate to `%appdata%/roaming/com.zevnda.steam-game-idler/cache/{user_id}/achievement_data`
    3. Delete the game's cache file (e.g., `12345.json`)

### Performance Issues

#### Too Many SteamUtility Processes
**Symptoms:** Many `SteamUtility.exe` processes in Task Manager

**Solutions:**
- This is normal when idling multiple games
- Reduce the number of games being idled simultaneously
- Restart SGI (or system) if processes don't close after stopping idling

## Advanced Troubleshooting

### Check Log Files

<Steps>
    ### Locate Log Files
    1. Press `Win + R` to open Run dialog
    2. Type `%appdata%` and press Enter
    3. Navigate to `roaming/com.zevnda.steam-game-idler`
    4. Open the log files to check for errors

    ### Analyze Logs
    Look for error messages, warnings, or unusual patterns that might indicate the issue

    ### Report Issues
    If you find persistent errors, include relevant log excerpts when [reporting issues on GitHub](https://github.com/zevnda/steam-game-idler/issues)
</Steps>

### Reset SGI Settings

<Callout type="error">
    This will reset all your customized settings and lists
</Callout>

<Steps>
    ### Close SGI Completely
    Make sure SGI is not running

    ### Delete Settings
    1. Press `Win + R` to open Run dialog
    2. Type `%appdata%` and press Enter
    3. Navigate to `roaming/com.zevnda.steam-game-idler`
    4. Delete all files and folders in this directory

    ### Restart SGI
    Launch SGI and reconfigure your settings
</Steps>

### Registry Issues

If SGI can't find Steam, you may need to fix registry entries:

<Steps>
    ### Open Registry Editor
    1. Press `Win + R`, type `regedit`, press Enter
    2. Navigate to `HKEY_CURRENT_USER\Software\Valve\Steam`

    ### Check Steam Path
    Verify the `SteamPath` value points to your Steam installation (e.g., `C:\Program Files (x86)\Steam`)

    ### Fix if Incorrect
    Right-click `SteamPath`, select "Modify", and enter the correct path
</Steps>

## Getting Help

If these troubleshooting steps don't solve your issue:

1. **Check the [FAQ](/docs/faq)** for additional solutions
2. **Search existing issues** on the [GitHub repository](https://github.com/zevnda/steam-game-idler/issues)
3. **Create a new issue** with:
   - Detailed description of the problem
   - Steps to reproduce
   - Your system information (Windows version, Steam version)
   - Relevant log file excerpts
   - Screenshots if applicable

<Callout type="info">
    When reporting issues, never share your Steam credentials or personal information
</Callout>
